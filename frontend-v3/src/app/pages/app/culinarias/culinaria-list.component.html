<div class="culinaria-list-page">
  <div class="page-header">
    <div>
      <h1 class="text-up-04 text-weight-bold mb-1">Culinárias</h1>
      <p class="text-base text-muted">Gerencie as culinárias do sistema.</p>
    </div>
  </div>

  <!-- Mensagem de erro -->
  <div class="messages" *ngIf="error()">
    <br-message
      state="danger"
      [message]="error()"
      [isClosable]="true"
      [showIcon]="true"
      (brDidClose)="dismissError()">
    </br-message>
  </div>

  <br-card>
    <div slot="header" class="card-header-content">
      <span>Lista de Culinárias</span>
    </div>

    <div class="card-body" slot="content">
      <!-- Filtros -->
      <div class="filters">
        <div class="filter-item">
          <br-select
            label="Filtrar por Meio a Meio"
            placeholder="Selecione..."
            [options]="filterOptions"
            (valueChange)="onFilterChange($event)">
          </br-select>
        </div>

        <div class="filter-item search">
          <br-input
            label="Buscar"
            placeholder="Buscar por nome..."
            type="text"
            (valueChange)="onSearchChange($event)">
          </br-input>
        </div>
      </div>

      <!-- Loading -->
      <div class="loading-container" *ngIf="loading()">
        <br-loading label="Carregando culinárias..."></br-loading>
      </div>

      <!-- Tabela -->
      <div class="table-container" *ngIf="!loading()">
        <br-table *ngIf="paginatedCulinarias().length > 0">
          <br-table-header-row [attr.slot]="'header'">
            <br-table-header-cell>ID</br-table-header-cell>
            <br-table-header-cell>Nome</br-table-header-cell>
            <br-table-header-cell horizontalAlign="center">Meio a Meio</br-table-header-cell>
          </br-table-header-row>

          <br-table-row [attr.slot]="'row'" *ngFor="let culinaria of paginatedCulinarias(); trackBy: trackByCulinaria">
            <br-table-cell>
              <span class="id-cell">{{ culinaria.id }}</span>
            </br-table-cell>
            <br-table-cell>
              <span class="nome-cell">{{ culinaria.nome }}</span>
            </br-table-cell>
            <br-table-cell horizontalAlign="center">
              <br-tag
                *ngIf="culinaria.meioMeio"
                shape="rounded"
                density="small"
                label="Sim"
                bgColor="green-vivid-50">
              </br-tag>
              <br-tag
                *ngIf="!culinaria.meioMeio"
                shape="rounded"
                density="small"
                label="Não"
                bgColor="gray-20">
              </br-tag>
            </br-table-cell>
          </br-table-row>
        </br-table>

        <!-- Empty state -->
        <div class="empty-state" *ngIf="paginatedCulinarias().length === 0">
          <i class="fas fa-inbox"></i>
          <p>Nenhuma culinária encontrada</p>
        </div>
      </div>

      <!-- Paginação -->
      <div class="pagination-container" *ngIf="!loading() && totalItems() > 0">
        <br-pagination
          [total]="totalPages()"
          [current]="currentPage()"
          [totalItems]="totalItems()"
          [perPage]="perPage()"
          [perPageOptions]="[5, 10, 25, 50]"
          variant="contextual"
          itemsText="culinárias"
          perPageLabel="Itens por página"
          goToPageLabel="Ir para página"
          (pageChange)="onPageChange($event)"
          (perPageChange)="onPerPageChange($event)">
        </br-pagination>
      </div>
    </div>
  </br-card>
</div>
